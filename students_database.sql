-- DISCLAIMER
-- To the best of my knowledge, this data is fabricated, and
-- it does not correspond to real people.
-- Any similarity to existing people is purely coincidental.
--

DROP DATABASE IF EXISTS students;
CREATE DATABASE IF NOT EXISTS students; 
USE students;

SELECT 'CREATING DATABASE STRUCTURE' as 'INFO';

DROP TABLE IF EXISTS students,
                     dept_head,
                     departments,
                     dept_stud,
                     programs,
                     tuitions;
                     
/*!50503 set default_storage_engine = InnoDB */;
/*!50503 select CONCAT('storage engine: ', @@default_storage_engine) as INFO */;                   
                                         
CREATE TABLE students (
    stud_id      INT		    NOT NULL,
    birth_date  DATE            NOT NULL,
    first_name  VARCHAR(14)     NOT NULL,
    last_name   VARCHAR(16)     NOT NULL,
    gender      ENUM ('M','F')  NOT NULL,    
    enrolment_date   DATE       NOT NULL,
    PRIMARY KEY (stud_id)
);

CREATE TABLE departments (
    dept_no     CHAR(4)         NOT NULL,
    dept_name   VARCHAR(40)     NOT NULL,
    PRIMARY KEY (dept_no),
    UNIQUE  KEY (dept_name)
);

CREATE TABLE dept_head (
   stud_id       INT            NOT NULL,
   dept_no      CHAR(4)         NOT NULL,
   from_date    DATE            NOT NULL,
   to_date      DATE            NOT NULL,
   PRIMARY KEY (stud_id,dept_no)
); 

CREATE TABLE dept_stud (
    stud_id      INT            NOT NULL,
    dept_no     CHAR(4)         NOT NULL,
    from_date   DATE            NOT NULL,
    to_date     DATE            NOT NULL,
    PRIMARY KEY (stud_id,dept_no)
);

CREATE TABLE tuitions (
    stud_id      INT            NOT NULL,
    tuition      INT            NOT NULL,
    from_date   DATE            NOT NULL,
    to_date     DATE            NOT NULL,
    PRIMARY KEY (stud_id, from_date)
) ;

CREATE TABLE Programs (
    stud_id     INT             NOT NULL,
    program     VARCHAR(50)     NOT NULL,
    from_date   DATE            NOT NULL,
    to_date     DATE,

PRIMARY KEY (stud_id,program, from_date)
) 
; 


INSERT INTO `students` VALUES (10001,'1953-09-02','Ash','Ketcmum','M','1986-06-26'),
(10002,'1964-06-02','Chun','Lee','F','1985-11-21'),
(10003,'1959-12-03','Steve','Rogers','M','1986-08-28'),
(10004,'1954-05-01','Tony','Stark','M','1986-12-01'),
(10005,'1955-01-21','Peter','Parker','M','1989-09-12'),
(10006,'1953-04-20','Diana','Simmons','F','1989-06-02'),
(10007,'1957-05-23','Lois','Lane','F','1989-02-10'),
(10008,'1958-02-19','Vin','Diesel','M','1994-09-15'),
(10009,'1952-04-19','Barbara','Gordon','F','1985-02-18'),
(10010,'1963-06-01','Lois','Griffin','F','1989-08-24'),
(10011,'1953-11-07','Sonya','Blade','F','1990-01-22'),
(10012,'1960-10-04','Bruce','Wayne','M','1992-12-18'),
(10013,'1963-06-07','Kent','Clark','M','1985-10-20'),
(10014,'1956-02-12','Lex','Luthor','M','1987-03-11'),
(10015,'1959-08-19','Jhonny','Cage','M','1987-07-02'),

(10016,'1961-05-02','Deacon','John','M','1995-01-27'),
(10017,'1958-07-06','Mary','Jane','F','1993-08-03'),
(10018,'1954-06-19','Scarlet','Johanson','F','1987-04-03'),
(10019,'1953-01-23','Hero','Saitama','M','1999-04-30'),
(10020,'1952-12-24','Jawad','Duhit','M','1991-01-26');

INSERT INTO `departments` VALUES ('d001','Physics'),
('d002','Chemistry'),
('d003','Computer Science'),
('d004','Law'),
('d005','Physcology'),
('d006','Medical'),
('d007','Geology'),
('d009','Music'),
('d010','Business');



INSERT INTO `dept_head` VALUES (10001,'d001','1985-01-01','1991-04-08'),
(10002,'d002','1985-01-01','1988-10-17'),
(10003,'d003','1985-01-01','1992-08-02'),
(10004,'d004','1985-01-01','1992-09-08'),
(10005,'d005','1985-01-01','1991-09-12'),
(10006,'d006','1985-01-01','9999-01-01'),
(10007,'d007','1985-01-01','9999-01-01'),
(10008,'d008','1985-01-01','9999-01-01'),
(10009,'d009','1985-01-01','1994-06-28'),
(10010,'d010','1988-10-17','9999-01-01'),
(10011,'d002','1985-09-16','9999-01-01'),
(10012,'d001','1991-03-07','1996-08-30'),
(10013,'d003','1991-04-08','1996-01-03'),
(10014,'d004','1993-03-21','9999-01-01'),
(10015,'d005','1996-08-30','9999-01-01'),

(10016,'d006','1996-03-01','9999-01-01'),
(10017,'d007','1994-06-28','9999-01-01'),
(10018,'d008','1992-03-21','9999-01-01'),
(10019,'d009','1992-08-02','9999-01-01'),
(10020,'d010','1991-09-08','9999-01-01');


INSERT INTO `dept_stud` VALUES (10001,'d001','1985-01-01','1991-04-08'),
(10002,'d002','1985-01-01','1988-10-17'),
(10003,'d003','1985-01-01','1992-08-02'),
(10004,'d004','1985-01-01','1992-09-08'),
(10005,'d005','1985-01-01','1991-09-12'),
(10006,'d006','1985-01-01','9999-01-01'),
(10007,'d007','1985-01-01','9999-01-01'),
(10008,'d008','1985-01-01','9999-01-01'),
(10009,'d009','1985-01-01','1994-06-28'),
(10010,'d010','1988-10-17','9999-01-01'),
(10011,'d002','1985-09-16','9999-01-01'),
(10012,'d001','1991-03-07','1996-08-30'),
(10013,'d003','1991-04-08','1996-01-03'),
(10014,'d004','1993-03-21','9999-01-01'),
(10015,'d005','1996-08-30','9999-01-01'),

(10016,'d006','1996-03-01','9999-01-01'),
(10017,'d007','1994-06-28','9999-01-01'),
(10018,'d008','1992-03-21','9999-01-01'),
(10019,'d009','1992-08-02','9999-01-01'),
(10020,'d010','1991-09-08','9999-01-01');

INSERT INTO `tuitions` VALUES(10001,'18000','1985-01-01','1991-04-08'),
(10002,'24000','1985-01-01','1988-10-17'),
(10003,'8000','1985-01-01','1992-08-02'),
(10004,'12000','1985-01-01','1992-09-08'),
(10005,'9800','1985-01-01','1991-09-12'),
(10006,'54000','1985-01-01','9999-01-01'),
(10007,'32000','1985-01-01','9999-01-01'),
(10008,'28000','1985-01-01','9999-01-01'),
(10009,'30000','1985-01-01','1994-06-28'),
(10010,'26000','1988-10-17','9999-01-01'),
(10011,'16000','1985-09-16','9999-01-01'),
(10012,'48000','1991-03-07','1996-08-30'),
(10013,'6400','1991-04-08','1996-01-03'),
(10014,'11000','1993-03-21','9999-01-01'),
(10015,'8000','1996-08-30','9999-01-01'),

(10016,'11900','1996-03-01','9999-01-01'),
(10017,'807','1994-06-28','9999-01-01'),
(10018,'780','1992-03-21','9999-01-01'),
(10019,'60000','1992-08-02','9999-01-01'),
(10020,'45000','1991-09-08','9999-01-01');


INSERT INTO `programs` VALUES(10001,'Professional Year','1985-01-01','1991-04-08'),
(10002,'Bachelors Degree','1985-01-01','1988-10-17'),
(10003,'Masters Degree','1985-01-01','1992-08-02'),
(10004,'Diploma','1985-01-01','1992-09-08'),
(10005,'TAFE','1985-01-01','1991-09-12'),
(10006,'PHD','1985-01-01','9999-01-01'),
(10007,'Internship','1985-01-01','9999-01-01'),
(10008,'Bachelors Degree','1985-01-01','9999-01-01'),
(10009,'Professional Year','1985-01-01','1994-06-28'),
(10010,'Bachelors Degree','1988-10-17','9999-01-01'),
(10011,'Code Bootcamp','1985-09-16','9999-01-01'),
(10012,'Bachelors Degree','1991-03-07','1996-08-30'),
(10013,'Bachelors Degree','1991-04-08','1996-01-03'),
(10014,'Masters Degree','1993-03-21','9999-01-01'),
(10015,'PHD','1996-08-30','9999-01-01'),

(10016,'TAFE','1996-03-01','9999-01-01'),
(10017,'Masters Degree','1994-06-28','9999-01-01'),
(10018,'Internship','1992-03-21','9999-01-01'),
(10019,'Code Bootcamp','1992-08-02','9999-01-01'),
(10020,'Bachelors Degree','1991-09-08','9999-01-01');



